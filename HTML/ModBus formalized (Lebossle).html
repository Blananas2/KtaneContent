<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <title>ModBus — Keep Talking and Nobody Explodes Module</title>
        <meta name="viewport" content="initial-scale=1">
        <link rel="stylesheet" type="text/css" href="css/normalize.css">
        <link rel="stylesheet" type="text/css" href="css/main.css">
        <link rel="stylesheet" type="text/css" href="css/font.css">
        <script src="js/highlighter.js"></script>
        <style>
            table {
                margin: 1em auto;
            }
        </style>
    </head>
    <body>
        <div id="ManualContent">
            <div class="section">
                <div class="page page-bg-01">
                    <div class="page-header">
                        <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                        <span class="page-header-section-title">ModBus</span>
                    </div>
                    <div class="page-content">
                        <img src="img/Component/ModBus.svg" class="diagram">
                        <h2>On the Subject of ModBus</h2>
                        <p class="flavour-text">Bomb defusal is no funny stuff</p>

                        <p>The ModBus module consists of a keypad of hexadecimal numbers and a display of the inputted bytes. A byte consists of two hexadecimal digits.

                        <h2>ModBus Protocol</h2>

                        <p>The first byte you must input is the ASCII code for the first character of the Serial Number on the bomb. Refer to Table ASCII for the conversion. Characters are always in upper case.

                        <p>The other bytes are be defined by either Function 04, which is used if the last digit of the Serial Number is even, or Function 06, used if it is odd.

                        <h3>Function 04</h3>

                        <p>The second byte is 04

                        <p>Calculate the 3rd character of the Serial Number multiplied by the ASCII value of the 4th character of the SN multiplied by 100, in hexadecimal. The third and fourth bytes are the last two bytes of this value.

                        <p>Calculate the ASCII value of the 1st character of the Serial Number multiplied by 4, and add it to the ASCII value of the 5th character of the SN. The fifth and sixth bytes are the last two bytes of this value.

                        <h3>Function 06</h3>

                        <p>The second byte is 06

                        <p>The last four bytes are in decimal, instead of hexadecimal

                        <p>Calculate 256 minus the ASCII value of the 4th character of the Serial Number. Input this value as a 4-digit decimal number for the third and fourth bytes

                        <p>Calculate the ASCII value of the first character of the Serial Number and subtract 6, then multiply it by the ASCII value of the 5th character of the SN. The last 4 digits of this value are the last two bytes.

                    </div>
                    <div class="page-footer relative-footer">Page 1 of 2</div>
                </div>
                <div class="page page-bg-02">
                    <div class="page-header">
                        <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                        <span class="page-header-section-title">ModBus</span>
                    </div>
                    <div class="page-content">

						<h2>Table ASCII</h2>
						<img src="img/ModBus/ascii_table.png" width="650" />

                    </div>
                    <div class="page-footer relative-footer">Page 2 of 2</div>
                </div>
            </div>
        </div>
    </body>
</html>